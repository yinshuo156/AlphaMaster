# 数据存储目录

## 目录概述

数据存储目录是Alpha Master系统的基础组件，用于存储各市场的原始交易数据。这些数据是因子生成、分析和投资组合优化的基础。

## 目录结构

```
data/
├── a_share/        # A股市场数据
├── crypto/         # 加密货币市场数据
├── us/             # 美股市场数据
└── README.md       # 本文档
```

## 数据格式

### A股数据 (`data/a_share/`)

A股数据以CSV文件格式存储，每个文件对应一只股票，文件名格式为`股票代码_市场代码.csv`（如`000001_SZ.csv`表示深圳证券交易所的平安银行）。

CSV文件应包含以下列：
- `date`: 交易日期（YYYY-MM-DD格式）
- `symbol`: 股票代码
- `open`: 开盘价
- `high`: 最高价
- `low`: 最低价
- `close`: 收盘价
- `volume`: 成交量
- `amount`: 成交额（可选）

### 加密货币数据 (`data/crypto/`)

加密货币数据以CSV文件格式存储，每个文件对应一种加密货币对，文件名格式为`交易对.csv`（如`BTC-USDT.csv`表示比特币兑USDT）。

CSV文件应包含以下列：
- `date`: 交易日期/时间（可以是分钟、小时或日线数据）
- `open`: 开盘价
- `high`: 最高价
- `low`: 最低价
- `close`: 收盘价
- `volume`: 成交量
- `amount`: 成交额（可选）

### 美股数据 (`data/us/`)

美股数据集中存储在`us_share.csv`文件中，包含多只美股的交易数据。

CSV文件应包含以下列：
- `date`: 交易日期（YYYY-MM-DD格式）
- `symbol`: 股票代码
- `open`: 开盘价
- `high`: 最高价
- `low`: 最低价
- `close`: 收盘价
- `volume`: 成交量
- `amount`: 成交额（可选）

## 数据来源

数据可以从以下渠道获取：

### A股数据
- 聚宽量化
- 优矿
- Tushare Pro
- Wind金融终端
- 东方财富Choice

### 加密货币数据
- Binance API
- CoinMarketCap API
- CryptoCompare API
- OKX API
- Huobi API

### 美股数据
- Yahoo Finance
- Alpha Vantage
- IEX Cloud
- Bloomberg Terminal
- Thomson Reuters Eikon

## 数据更新

为了保持因子分析的时效性，建议定期更新数据：

1. **A股数据**：建议每日收盘后更新
2. **加密货币数据**：根据需要可以更新到分钟级
3. **美股数据**：建议美股收盘后更新

## 数据质量控制

在使用数据前，建议进行以下质量控制：

1. **缺失值检查**：确保关键数据点没有缺失
2. **异常值检测**：识别并处理价格或成交量异常
3. **数据一致性**：检查数据的逻辑一致性（如最高价应大于等于最低价）
4. **时间连续性**：确保时间序列数据的连续性

## 数据预处理

原始数据在用于因子生成前，通常需要进行以下预处理：

1. **数据清洗**：处理缺失值、异常值
2. **数据标准化**：统一数据格式和单位
3. **数据对齐**：确保不同资产的数据时间点对齐
4. **收益率计算**：计算对数收益率或简单收益率

## 示例数据

系统提供了示例数据，用于测试和演示：

- **A股示例**：12只代表性股票
- **加密货币示例**：10种主要加密货币
- **美股示例**：包含多只美股的组合数据

## 使用建议

1. 确保数据文件命名和格式符合要求
2. 对于大规模数据，考虑使用数据库存储
3. 定期备份原始数据，避免数据丢失
4. 记录数据来源和更新时间，便于追踪和复现分析结果
5. 对于高频数据，考虑使用压缩存储以节省空间

## 数据安全

1. 敏感数据应加密存储
2. 定期备份数据到安全位置
3. 限制数据访问权限
4. 遵守相关数据使用和隐私法规